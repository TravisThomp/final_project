{"version":3,"file":"bundle.2cb15ac2766d93ad.js","mappings":"mBAAe,MAAMA,EACjBC,YAAYC,EAAKC,EAAOC,EAAOC,EAASC,EAAMC,EAASC,GACnDC,KAAKP,IAAMA,EACXO,KAAKN,MAAQA,EACbM,KAAKL,MAAQA,EACbK,KAAKJ,QAAUA,EACfI,KAAKH,KAAOA,EACZG,KAAKF,QAAUA,EACfE,KAAKD,WAAaA,CACrB,ECNLE,QAAQC,IAAI,WAEZC,OAAOC,OAAS,WACZC,GACH,EAED,MAAMC,EAAe,ICPN,MAEXd,cAGC,CAMa,eAACe,GAEZ,IAAIC,EAAOC,KAAKC,UAAUH,GAEzB,OAAOI,MAAO,YAAa,CACvBC,OAAO,OACPC,QAAS,CACL,eAAgB,oBAEpBL,KAAMA,IAEPM,MAAMC,GAAYA,EAASC,QAGjC,CAMgB,kBAACT,GAEd,IAAIC,EAAOC,KAAKC,UAAU,CAAC,IAAOH,EAAMd,MAExC,OAAOkB,MAAO,eAAgB,CAC1BC,OAAO,OACPC,QAAS,CACL,eAAgB,oBAEpBL,KAAMA,IAEPM,MAAMC,GAAYA,EAASC,QAGjC,CAMiB,qBAEd,IAAIC,EAAS,GACb,OAAON,MAAQ,UAAU,CACrBC,OAAO,MACPC,QAAS,CACP,eAAgB,sBAEnBC,MAAMC,GAAYA,EAASC,SAC3BF,MAAKI,GAAcA,EAAWC,SAAQC,IACrC,IAAIC,EAAQ,IAAI9B,EAAM6B,EAAS3B,IAAK2B,EAAS1B,MAAO0B,EAASzB,MAAOyB,EAASxB,QAASwB,EAASvB,KAAMuB,EAAStB,QAASsB,EAASrB,YAChIkB,EAAOK,KAAKD,EAAZ,MACEP,MAAK,IAAcG,GAC5B,GDxDCM,EAAiB,IEVR,MAEX/B,cAAgB,CAChBgC,eAAeH,GACX,GAAIA,EAAMxB,KAAK4B,SAAS,SACpB,GAAIJ,EAAMvB,QAAS,CACf,GAAIuB,EAAMtB,WACN,MAAO,gBACJ,IAAKsB,EAAMtB,WACd,MAAO,WAEd,MAAM,GAAIsB,EAAMtB,aAAesB,EAAMvB,QAClC,MAAO,qBAER,GAAIuB,EAAMxB,KAAK4B,SAAS,WAC3B,MAAO,SAEd,GFLCpB,EAAe,WACjBC,EAAaoB,eACRZ,MAAKC,GAAYY,EAAUZ,IACnC,EAEKY,EAAY,SAAUX,GACxBf,QAAQC,IAAI,2BAA6BO,KAAKC,UAAUM,IAGxD,MAAMY,EAAQC,SAASC,eAAe,aAGtC,IAAK,IAAIC,EADQH,EAAMI,KAAKC,OACJ,EAAGF,EAAI,EAAGA,IAC9BH,EAAMM,UAAUH,GAGpBf,EAAKG,SAAQ,SAASgB,GAElB,MAAMC,EAAMR,EAAMS,WAAW,GAGvBC,EAAYF,EAAIG,WAAW,GAC3BC,EAAeJ,EAAIG,WAAW,GAC9BE,EAAeL,EAAIG,WAAW,GAC9BG,EAAiBN,EAAIG,WAAW,GAChCI,EAAcP,EAAIG,WAAW,GAC7BK,EAAgBR,EAAIG,WAAW,GAE/BM,EAAehB,SAASiB,cAAc,SAC5CD,EAAahD,KAAO,SACpBgD,EAAaE,GAAK,eAClBF,EAAaG,MAAQ,SACrBH,EAAaI,QAAU,WAAiC,EACxDL,EAAcM,YAAYL,GAI1BP,EAAUa,UAAYhB,EAAE1C,IACxB+C,EAAaW,UAAYhB,EAAEzC,MAC3B+C,EAAaU,UAAYhB,EAAExC,MAC3B8C,EAAaW,MAAMC,WAAalB,EAAExC,MAClC+C,EAAeS,UAAYhB,EAAEvC,QAC7B+C,EAAYQ,UAAY5B,EAAeC,eAAeW,GACtDlC,QAAQC,IAAIiC,EACf,GAEJ,C","sources":["webpack:///./src/main/app/route/Climb.js","webpack:///./src/admin/admin.js","webpack:///./src/util/MongoManager.js","webpack:///./src/util/ClimbTypeParser.js"],"sourcesContent":["export default class Climb {\r\n    constructor(_id, grade, color, section, type, canLead, canTopRope) {\r\n        this._id = _id;\r\n        this.grade = grade;\r\n        this.color = color;\r\n        this.section = section;\r\n        this.type = type;\r\n        this.canLead = canLead;\r\n        this.canTopRope = canTopRope;\r\n    }\r\n}","import MongoManager from \"../util/MongoManager\";\r\nimport ClimbTypeUtils from \"../util/ClimbTypeParser\";\r\n\r\nconsole.log(\"loaded.\")\r\n\r\nwindow.onload = function() {\r\n    getTableData()\r\n}\r\n\r\nconst mongoManager = new MongoManager();\r\nconst climbTypeUtils = new ClimbTypeUtils();\r\n\r\nconst getTableData = function() {\r\n    mongoManager.getAllRoutes()\r\n        .then(response => initTable(response))\r\n}\r\n\r\nconst initTable = function (json) {\r\n    console.log(\"Initializing table with \" + JSON.stringify(json))\r\n\r\n    // Find a <table> element with id=\"myTable\":\r\n    const table = document.getElementById(\"dataTable\");\r\n\r\n    const rowCount = table.rows.length;\r\n    for (let i = rowCount - 1; i > 0; i--) {\r\n        table.deleteRow(i);\r\n    }\r\n\r\n    json.forEach(function(x) {\r\n        // Create an empty <tr> element and add it to the 1st position of the table:\r\n        const row = table.insertRow(-1);\r\n\r\n// Insert new cells (<td> elements) at the 1st and 2nd position of the \"new\" <tr> element:\r\n        const newIdCell = row.insertCell(0);\r\n        const newGradeCell = row.insertCell(1);\r\n        const newColorCell = row.insertCell(2);\r\n        const newSectionCell = row.insertCell(3);\r\n        const newTypeCell = row.insertCell(4);\r\n        const newDeleteCell = row.insertCell(5);\r\n\r\n        const deleteButton = document.createElement('input');\r\n        deleteButton.type = \"button\";\r\n        deleteButton.id = \"deleteButton\";\r\n        deleteButton.value = \"Delete\";\r\n        deleteButton.onclick = function() {handleDeleteClick(x)};\r\n        newDeleteCell.appendChild(deleteButton);\r\n\r\n\r\n// Add some text to the new cells:\r\n        newIdCell.innerHTML = x._id;\r\n        newGradeCell.innerHTML = x.grade;\r\n        newColorCell.innerHTML = x.color;\r\n        newColorCell.style.background = x.color;\r\n        newSectionCell.innerHTML = x.section;\r\n        newTypeCell.innerHTML = climbTypeUtils.parseClimbType(x);\r\n        console.log(x)\r\n    })\r\n\r\n}\r\n\r\nfunction handleDeleteClick(climbID) {\r\n    \r\n}","import Climb from \"../main/app/route/Climb\";\r\n\r\nexport default class MongoManager\r\n{\r\n    constructor()\r\n    {\r\n        \r\n    }\r\n\r\n    /**\r\n     * Adds a route to the database\r\n     * @param {route to add} route \r\n     */\r\n    async addRoute(route)\r\n    {\r\n       let body = JSON.stringify(route);\r\n        \r\n        return fetch( '/addRoute', {\r\n            method:'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },  \r\n            body: body \r\n          })\r\n          .then( response => response.json())\r\n\r\n          //TO-DO: Update route ID\r\n    }\r\n\r\n    /**\r\n     * removes a route from the database\r\n     * @param {route to remove} route \r\n     */\r\n    async removeRoute(route)\r\n    {\r\n        let body = JSON.stringify({\"_id\": route._id});\r\n\r\n        return fetch( '/removeRoute', {\r\n            method:'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },  \r\n            body: body \r\n          })\r\n          .then( response => response.json())\r\n\r\n          //TO-DO: Update route list\r\n    }\r\n\r\n    /**\r\n     * Gets all the routes in database\r\n     * @return An array of all the routes\r\n     */\r\n    async getAllRoutes()\r\n    {\r\n        let routes = []\r\n        return fetch( `/routes`, {\r\n            method:'GET',\r\n            headers: {\r\n              \"Content-Type\": \"application/json\"\r\n          }})\r\n          .then( response => response.json())\r\n          .then(routeArray => routeArray.forEach(rawRoute => {\r\n            let climb = new Climb(rawRoute._id, rawRoute.grade, rawRoute.color, rawRoute.section, rawRoute.type, rawRoute.canLead, rawRoute.canTopRope)\r\n            routes.push(climb)\r\n          })).then(() => {return routes})\r\n    }\r\n\r\n}","export default class ClimbTypeUtils {\r\n\r\n    constructor() {}\r\n    parseClimbType(climb) {\r\n        if (climb.type.includes(\"rope\")) {\r\n            if (climb.canLead) {\r\n                if (climb.canTopRope) {\r\n                    return \"Lead/Top Rope\"\r\n                } else if (!climb.canTopRope) {\r\n                    return \"Lead Only\"\r\n                }\r\n            } else if (climb.canTopRope && !climb.canLead) {\r\n                return \"Top Rope Only\"\r\n            }\r\n        } else if (climb.type.includes(\"boulder\")) {\r\n            return \"Boulder\"\r\n        }\r\n    }\r\n}"],"names":["Climb","constructor","_id","grade","color","section","type","canLead","canTopRope","this","console","log","window","onload","getTableData","mongoManager","route","body","JSON","stringify","fetch","method","headers","then","response","json","routes","routeArray","forEach","rawRoute","climb","push","climbTypeUtils","parseClimbType","includes","getAllRoutes","initTable","table","document","getElementById","i","rows","length","deleteRow","x","row","insertRow","newIdCell","insertCell","newGradeCell","newColorCell","newSectionCell","newTypeCell","newDeleteCell","deleteButton","createElement","id","value","onclick","appendChild","innerHTML","style","background"],"sourceRoot":""}